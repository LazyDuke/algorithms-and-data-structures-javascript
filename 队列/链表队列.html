<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>链表队列</title>
  </head>
  <body>
    <script>
      class Node {
        constructor(data) {
          this.data = data
          this.next = null
        }
      }

      class LinkedQueue {
        constructor() {
          this.empty()
        }

        enqueue(data) {
          const node = new Node(data)

          if (this.isEmpty()) {
            this.front = node
            this.rear = node
          } else {
            this.rear.next = node
            this.rear = node
          }

          this.length++
        }

        dequeue() {
          if (!this.isEmpty()) {
            this.front = this.front.next
            if (this.length === 1) {
              this.rear = null
            }
            this.length--
          }
        }

        empty() {
          this.front = null
          this.rear = null
          this.length = 0
        }

        isEmpty() {
          return this.length === 0
        }

        size() {
          return this.length
        }

        toString() {
          let current = this.front
          let result = ''

          if (this.isEmpty()) {
            return result
          }

          while (current.next) {
            result += `${current.data} `
            current = current.next
          }

          return result + current.data
        }
      }
    </script>
  </body>
</html>
